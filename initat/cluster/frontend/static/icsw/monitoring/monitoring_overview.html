<script type="text/ng-template" id="icsw/monitoring/list/overview">
    <icsw-monitoring-list-overview icsw-sel-man='0'></icsw-monitoring-list-overview>
</script>

<script type="text/ng-template" id="icsw.monitoring.list.overview">
    <div class="container-fluid">
        <h3 ng-show="struct.devices_filtered.length > 1">Monitoring Overview</h3>
        <span class="text-danger" ng-show="struct.loading">Fetching Data from Server ...</span>
        <table
            st-table="entries_displayed"
            st-safe-src="struct.devices_filtered"
            class="table table-hover table-condensed table-striped"
            style="width:auto; table-layout: fixed;"
        >
            <thead>
                <tr ng-show="entries_displayed.length > 1">
                    <td colspan="99">
                        <div class="pull-left"><input st-search="" class="form-control form-control-inline" style="margin-right:20px;" placeholder="Filter ..." type="text"/></div>
                        <div
                            icsw-tools-pagination
                            st-items-by-page="10"
                            st-displayed-pages="11"
                            possible-items-by-page="10,20,50,100,200,500,1000"
                            class="pull-left"
                            style="margin-top:4px;"
                        ></div>
                    </td>
                </tr>
                <tr>
                    <th st-sort='name' rowspan="2">Name</th>
                    <!-- todo: sort -->
                    <th rowspan="2" class="text-center">Now</th>
                    <th colspan="2" class="text-center">Yesterday</th>
                    <th colspan="2" class="text-center">Last Week</th>
                    <th colspan="2" class="text-center">Last Month</th>
                </tr>
                <tr>
                    <th class="text-center">Host</th>
                    <th class="text-center">Services</th>
                    <th class="text-center">Host</th>
                    <th class="text-center">Services</th>
                    <th class="text-center">Host</th>
                    <th class="text-center">Services</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="entry in entries_displayed">
                    <td>
                        {{ entry.full_name }}
                    </td>
                    <td class="text-center">
                        <icsw-device-livestatus-brief
                            icsw-device="entry"
                            icsw-max-width="80"
                        ></icsw-device-livestatus-brief>
                    </td>
                    <td class="text-center">
                        <icsw-tools-device-hist-status-overview
                            data="entry.$$device_data_yesterday"
                            detailed-view="false"
                        ></icsw-tools-device-hist-status-overview>
                    </td>
                    <td class="text-center">
                        <icsw-tools-service-hist-status-overview
                            data="entry.$$service_data_yesterday"
                            detailed-view="false"
                        ></icsw-tools-service-hist-status-overview>
                    </td>
                    <td class="text-center">
                        <icsw-tools-device-hist-status-overview
                            data="entry.$$device_data_last_week"
                            detailed-view="false"
                        ></icsw-tools-device-hist-status-overview>
                    </td>
                    <td class="text-center">
                        <icsw-tools-service-hist-status-overview
                            data="entry.$$service_data_last_week"
                            detailed-view="false"
                        ></icsw-tools-service-hist-status-overview>
                    </td>
                    <td class="text-center">
                        <icsw-tools-device-hist-status-overview
                            data="entry.$$device_data_last_month"
                            detailed-view="false"
                        ></icsw-tools-device-hist-status-overview>
                    </td>
                    <td class="text-center">
                        <icsw-tools-service-hist-status-overview
                            data="entry.$$service_data_last_month"
                            detailed-view="false"
                        ></icsw-tools-service-hist-status-overview>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</script>
