<script type="text/ng-template" id="icsw/main/device/tree.html">
    <div class="container-fluid">
        <icsw-device-tree-overview></icsw-device-tree-overview>
    </div>
</script>

<script type="text/ng-template" id="icsw.device.tree.filters">
    <div class="panel panel-default" style="margin-bottom: 8px">
        <div class="panel-body" style="padding: 6px 15px">
            <form class="form-inline">
                <div class="form-group">
                    <label class="control-label">Group/Device:</label>
                    <select class="form-control input-sm" ng-model="filter_settings.dg_filter">
                        <option value="b">All</option>
                        <option value="f">Devices</option>
                        <option value="t">Group</option>
                    </select>
                </div>
                &nbsp;
                <div class="form-group">
                    <label class="control-label">Selected:</label>
                    <select class="form-control input-sm" ng-model="filter_settings.sel_filter">
                        <option value="b">All</option>
                        <option value="t">Selected</option>
                        <option value="f">Unselected</option>
                    </select>
                </div>
                &nbsp;
                <div class="form-group">
                    <label class="control-label">Enabled:</label>
                    <select class="form-control input-sm" ng-model="filter_settings.en_filter">
                        <option value="b">All</option>
                        <option value="t">Enabled</option>
                        <option value="f">Disabled</option>
                    </select>
                </div>
                &nbsp;
                <div class="form-group">
                    <label class="control-label">MonServer:</label>
                    <select class="form-control input-sm" ng-model="filter_settings.mon_filter">
                        <option value="i">Ignore</option>
                        <option ng-repeat="obj in struct.monitor_server_list" ng-value="obj.idx">{{ obj.$$full_name_with_type }})</option>
                    </select>
                </div>
                &nbsp;
                <div class="form-group">
                    <label class="control-label">BootServer:</label>
                    <select class="form-control" ng-model="filter_settings.boot_filter">
                        <option value="i">Ignore</option>
                        <option ng-repeat="obj in struct.mother_server_list" ng-value="obj.idx">{{ obj.full_name }}</option>
                    </select>
                </div>
            </form>
            <form class="form-inline">
                <label class="control-label">Filter:</label>
                <div class="form-group">
                    <input class="form-control input-sm" placeholder="filter" ng-model="filter_settings.str_filter"/>
                </div>
                <div class="form-group">
                    <input type="button" class="btn btn-sm btn-primary" value="select shown" ng-click="select_shown()"/>
                    <input type="button" class="btn btn-sm btn-info" value="deselect all" ng-click="deselect_all()"/>
                </div>
            </form>
        </div>
    </div>
</script>

<script type="text/ng-template" id="icsw.device.tree.cdg.row">
    <td colspan="2">
        <strong><em>{{ group.name }}</em></strong>
    </td>
    <td>{{ struct.device_tree.device_class_tree.lut[obj.device_class].name }}</td>
    <td>{{ group.description }}</td>
    <td colspan="2"></td>
    <td ng-show="hide_lut['tln']">{{ struct.domain_tree.show_dtn(device.domain_tree_node) }}</td>
    <td ng-show="num_shown(['tln'])" colspan="{{ num_shown(['tln']) }}"></td>
    <td>
        <icsw-tools-button type="modify" size="sm" ng-click="edit_device_group($event, group)"></icsw-tools-button>
    </td>
    <td></td>
</script> 

<script type="text/ng-template" id="icsw.device.tree.meta.row">
    <td colspan="2"><strong>{{ group.name }}</strong>
        <div class="btn-group btn-group-xs pull-right" ng-show="group.num_devices">
            <input type="button" class="btn btn-success" ng-click="change_dg_sel(1)" value="S"/>
            <input type="button" class="btn btn-primary" ng-click="change_dg_sel(0)" value="T"/>
            <input type="button" class="btn btn-warning" ng-click="change_dg_sel(-1)" value="C"/>
        </div>
    </td>
    <td>{{ struct.device_tree.device_class_tree.lut[obj.device_class].name }}</td>
    <td>{{ group.description }}</td>
    <td>{{ group.enabled | yesno1 }}</td>
    <td>
        <b ng-show="group.num_devices">{{ group.num_devices }}</b>
        <b ng-show="!group.num_devices">---</b>
    </td>
    <td ng-show="hide_lut['tln']">{{ struct.domain_tree.show_dtn(obj) }}</td>
    <td ng-show="num_shown(['tln'])" colspan="{{ num_shown(['tln']) }}"></td>
    <td>
        <icsw-tools-button type="modify" size="xs" ng-click="edit_device_group($event, group)"></icsw-tools-button>
    </td>
    <td>
        <icsw-tools-button ng-show="!group.num_devices" type="delete" size="xs" ng-click="delete_device_group($event, group)"></icsw-tools-button>
        <icsw-tools-button type="create" value="create device" size="xs" ng-click="create_device($event, group)"></icsw-tools-button>
    </td>
</script> 

<script type="text/ng-template" id="icsw.device.tree.row">
    <td>{{ obj.name }}</td>
    <td class="text-center">
        <input type="button" ng-class="get_dev_sel_class()" ng-click="toggle_dev_sel()" value="sel"/>
    </td>
    <td>{{ struct.device_tree.device_class_tree.lut[obj.device_class].name }}</td>
    <td>{{ obj.comment }}</td>
    <td>
        <span ng-show="obj.device_group_obj.enabled">{{ obj.enabled | yesno1 }}</span>
        <span ng-show="!obj.device_group_obj.enabled"><em>{{ obj.enabled | yesno1 }}</em></span>
    </td>
    <td>&nbsp;</td>
    <td ng-show="hide_lut['tln']">{{ struct.domain_tree.show_dtn(obj) }}</td>
    <td ng-show="hide_lut['rrd_store']">{{ obj.store_rrd_data | yesno2 }}</td>
    <td ng-show="hide_lut['passwd']">{{ obj.root_passwd_set && 'set' || 'not set' }}</td>
    <td ng-show="hide_lut['mon_master']">{{ struct.monitor_server_lut[obj.monitor_server].$$full_name_with_type }}</td>
    <td ng-show="hide_lut['boot_master']">{{ struct.mother_server_lut[obj.bootserver].full_name }}</td>
    <td>
        <icsw-tools-button type="modify" size="xs" ng-click="edit_device($event, obj)"></icsw-tools-button>
    </td>
    <td>
        <icsw-tools-button type="delete" size="xs" ng-click="delete_device($event, obj)"></icsw-tools-button>
    </td>
</script> 

<script type="text/ng-template" id="icsw.device.tree.overview">
    <h3>
        Device Tree ({{ struct.device_tree.all_list.length }} Entries, {{ entries_filtered.length }} shown<span ng-show="num_selected()">, {{ num_selected() }} selected</span>),
    </h3>

    <icsw-device-tree-filters ng-if="struct.tree_loaded"></icsw-device-tree-filters>

    <div class="panel panel-default">
        <div class="panel-body">
            <!-- entries_displayed is st-table interal -->
            <div class="btn-group">
                <button ng-attr-class="btn {{ icswToolsButtonConfigService.get_css_and_icon_class('create') }}"
                       ng-show="dg_present()" ng-click="create_device( $event)"> create Device</button>
                <button ng-attr-class="btn {{ icswToolsButtonConfigService.get_css_and_icon_class('create') }}"
                       ng-click="create_device_group($event)"> create Device Group</button>
                <button ng-disabled="num_selected() == 0" ng-attr-class="btn {{ icswToolsButtonConfigService.get_css_and_icon_class('modify') }}"
                       ng-click="edit_many($event)"> modify selected</button>
                <button ng-disabled="num_selected() == 0" ng-attr-class="btn {{ icswToolsButtonConfigService.get_css_and_icon_class('delete') }}"
                       ng-click="delete_many($event)"> delete selected</button>
            </div>
            <table
                st-table="entries_displayed"
                st-safe-src="entries_filtered"
                st-trigger-redraw="struct.trigger_redraw"
                class="table table-hover table-condensed table-striped"
                style="width:auto;"
                ng-show="entries_displayed.length"
            >
                <thead>
                    <tr>
                        <td colspan="99">
                            <div icsw-tools-pagination st-items-by-page="20" st-displayed-pages="11" possible-items-by-page="10,20,50,100,200,500,1000"></div>
                        </td>
                    </tr>

                    <tr>
                        <td colspan="99">
                            Additional Columns:
                            <div class="btn-group btn-group-xs">
                                <input
                                    type="button"
                                    ng-repeat="entry in hide_list"
                                    title="{{ entry[3] }}"
                                    ng-value="entry[1]"
                                    ng-class="hide_lut[entry[0]] && 'btn btn-success' || 'btn btn-default'"
                                    ng-click="hide_lut[entry[0]]=!hide_lut[entry[0]]">
                                </input>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th st-sort='st_attrs.name'>Name</th>
                        <th class="text-center">Selection</th>
                        <th st-sort='st_attrs.class'>Class</th>
                        <th st-sort='st_attrs.description'>Description</th>
                        <th st-sort='st_attrs.enabled' class="text-center">Enabled</th>
                        <th st-sort='st_attrs.type' class="text-right">#Devices</th>
                        <th ng-repeat="entry in hide_list" ng-show="hide_lut[entry[0]]" st-sort="{{'st_attrs.'+entry[0]}}">{{ entry[1] }}</th>
                        <th colspan="2">Actions</th>
                    </tr>
                </thead>

                <tbody>
                    <tr icsw-device-tree-row device="obj" ng-repeat="obj in entries_displayed" ng-class="get_tr_class(obj)"></tr>
                </tbody>

            </table>
        </div>
    </div>
</script>

<script type="text/ng-template" id="icsw.device.tree.many.form">
    <form class="form-horizontal" name="form_data">
        <h3>Change settings of {{ num_selected() }} devices</h3>
        <fieldset>
            <legend>Basic Settings</legend>
            <div class="row">
                <div class="col-md-2">
                    <div class="form-group">
                        <div class="checkbox">
                            <div class="controls col-lg-offset-0 col-sm-8">
                                <label>
                                    <input class="checkboxinput checkbox" ng-model="edit_obj.change_device_group" type="checkbox"/>
                                    Device Group
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-10">
                    <div class="form-group" ng_show="edit_obj.change_device_group">
                        <label class="control-label col-sm-3 requiredField">
                            Device group<span class="asteriskField">*</span>
                        </label>
                        <div class="controls col-sm-8">
                            <ui-select ng-model="edit_obj.device_group" style="max-width:400px; min-width:240px;" ng-disabled="false">
                                <ui-select-match class="ui-select-match" placeholder="Select the device group">
                                    {{ $select.selected.name }}
                                </ui-select-match>
                                <ui-select-choices class="ui-select-choices" repeat="value.idx as value in struct.device_tree.group_list | filter:ignore_cdg | props_filter:{name:$select.search}">
                                    <div ng-bind-html="value.name | highlight: $select.search"></div>
                                </ui-select-choices>
                            </ui-select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2">
                    <div class="form-group">
                        <div class="checkbox">
                            <div class="controls col-lg-offset-0 col-sm-8">
                                <label>
                                    <input class="checkboxinput checkbox" ng-model="edit_obj.change_device_class" type="checkbox"/>
                                    Device Class
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-10">
                    <div class="form-group" ng_show="edit_obj.change_device_class">
                        <label class="control-label col-sm-3 requiredField">
                            Device Class<span class="asteriskField">*</span>
                        </label>
                        <div class="controls col-sm-7">
                            <ui-select ng-model="edit_obj.device_class" style="max-width:400px; min-width:240px;" ng-disabled="false">
                                <ui-select-match class="ui-select-match" placeholder="Select the DeviceClass">
                                    {{ $select.selected.name }}
                                </ui-select-match>
                                <ui-select-choices class="ui-select-choices" repeat="value.idx as value in struct.device_tree.device_class_tree.list | props_filter:{name:$select.search}">
                                    <div ng-bind-html="value.name | highlight: $select.search"></div>
                                </ui-select-choices>
                            </ui-select>
                        </div>
                    </div>
                </div>
            </div>
        </fieldset>
        <fieldset>
            <legend>Additional Settings</legend>
            <div class="row">
                <div class="col-md-2">
                    <div class="form-group">
                        <div class="checkbox">
                            <div class="controls col-lg-offset-0 col-sm-8">
                                <label>
                                    <input class="checkboxinput checkbox" ng-model="edit_obj.change_domain_tree_node" type="checkbox"/>
                                    DTN
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-10">
                    <div class="form-group" ng_show="edit_obj.change_domain_tree_node">
                        <label class="control-label col-sm-3 requiredField">
                            Domain Tree Node<span class="asteriskField">*</span>
                        </label>
                        <div class="controls col-sm-8">
                            <ui-select ng-model="edit_obj.domain_tree_node" style="max-width:400px; min-width:240px;" ng-disabled="false">
                                <ui-select-match class="ui-select-match" placeholder="Select the domain tree node (for FQDN)">
                                    {{ $select.selected.tree_info }}
                                </ui-select-match>
                                <ui-select-choices class="ui-select-choices" repeat="value.idx as value in struct.domain_tree.list| props_filter:{tree_info:$select.search}">
                                    <div ng-bind-html="value.tree_info | highlight: $select.search"></div>
                                </ui-select-choices>
                            </ui-select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2">
                    <div class="form-group">
                        <div class="checkbox">
                            <div class="controls col-lg-offset-0 col-sm-8">
                                <label>
                                    <input class="checkboxinput checkbox" ng-model="edit_obj.change_bootserver" type="checkbox"/>
                                    Bootserver
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-10">
                    <div class="form-group" ng_show="edit_obj.change_bootserver">
                        <label class="control-label col-sm-3">
                            Bootserver
                        </label>

                        <div class="controls col-sm-8">
                            <div class="input-group" style="max-width:400px; min-width:240px;">
                                <ui-select ng-model="edit_obj.bootserver" ng-disabled="false">
                                    <ui-select-match class="ui-select-match" placeholder="Select the bootserver">
                                        {{ $select.selected.full_name }}
                                    </ui-select-match>
                                    <ui-select-choices class="ui-select-choices" repeat="value.idx as value in struct.mother_server_list | props_filter:{full_name:$select.search}">
                                        <div ng-bind-html="value.full_name | highlight: $select.search"></div>
                                    </ui-select-choices>
                                </ui-select>
                                <span class="input-group-btn">
                                    <button type="button" ng-click="edit_obj.bootserver = undefined" class="btn btn-default">
                                        <span class="glyphicon glyphicon-trash"></span>
                                    </button>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2">
                    <div class="form-group">
                        <div class="checkbox">
                            <div class="controls col-lg-offset-0 col-sm-8">
                                <label>
                                    <input class="checkboxinput checkbox" name="change_monitor_server" ng-model="edit_obj.change_monitor_server" type="checkbox"/>
                                    Monitor Server
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-10">
                    <div class="form-group" ng_show="edit_obj.change_monitor_server">
                        <label class="control-label col-sm-3">
                            Monitor server
                        </label>
                        <div class="controls col-sm-8">
                            <div class="input-group" style="max-width:400px; min-width:240px;">
                                <ui-select ng-model="edit_obj.monitor_server" ng-disabled="false">
                                    <ui-select-match class="ui-select-match" placeholder="Select the monitor server">
                                        {{ $select.selected.$$full_name_with_type }}
                                    </ui-select-match>
                                    <ui-select-choices class="ui-select-choices" repeat="value.idx as value in struct.monitor_server_list | props_filter:{$$full_name_with_type:$select.search}">
                                        <div ng-bind-html="value.$$full_name_with_type | highlight: $select.search"></div>
                                    </ui-select-choices>
                                </ui-select>
                                <span class="input-group-btn">
                                    <button type="button" ng-click="edit_obj.monitor_server = undefined" class="btn btn-default">
                                        <span class="glyphicon glyphicon-trash"></span>
                                    </button>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </fieldset>
        <fieldset>
            <legend>Security</legend>
            <div class="row">
                <div class="col-md-2">
                    <div class="form-group">
                        <div class="checkbox">
                            <div class="controls col-lg-offset-0 col-sm-8">
                                <label>
                                    <input class="checkboxinput checkbox" name="change_root_passwd" ng-model="edit_obj.change_root_passwd" type="checkbox"/>
                                    Password
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-10">
                    <div class="form-group" ng_show="edit_obj.change_root_passwd">
                        <label class="control-label col-sm-3">
                            Root passwd
                        </label>
                        <div class="controls col-sm-8">
                            <input class="textinput textInput form-control" ng-model="edit_obj.root_passwd" type="password"/>
                        </div>
                    </div>
                </div>
            </div>
        </fieldset>
        <fieldset>
            <legend>Flags</legend>
            <div class="row">
                <div class="col-md-2">
                    <div class="form-group">
                        <div class="checkbox">
                            <div class="controls col-lg-offset-0 col-sm-8">
                                <label>
                                    <input class="checkboxinput checkbox" ng-model="edit_obj.change_enabled" type="checkbox"/>
                                    Enabled Flag
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-10">
                    <div class="form-group">
                        <div class="checkbox" ng_show="edit_obj.change_enabled">
                            <div class="controls col-lg-offset-0 col-sm-8">
                                <label>
                                    <input checked="checked" class="checkboxinput checkbox" ng-model="edit_obj.enabled" type="checkbox"/>
                                    Enabled
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2">
                    <div class="form-group">
                        <div class="checkbox">
                            <div class="controls col-lg-offset-0 col-sm-8">
                                <label>
                                    <input class="checkboxinput checkbox" ng-model="edit_obj.change_enable_perfdata" type="checkbox"/>
                                    PerfDataFlag
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-10">
                    <div class="form-group">
                        <div class="checkbox" ng_show="edit_obj.change_enable_perfdata">
                            <div class="controls col-lg-offset-0 col-sm-8">
                                <label>
                                    <input checked="checked" class="checkboxinput checkbox" ng-model="edit_obj.enable_perfdata" type="checkbox"/>
                                    Enable perfdata, check IPMI and SNMP
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2">
                    <div class="form-group">
                        <div class="checkbox">
                            <div class="controls col-lg-offset-0 col-sm-8">
                                <label>
                                    <input class="checkboxinput checkbox" ng-model="edit_obj.change_store_rrd_data" type="checkbox"/>
                                    Store RRD Data
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-10">
                    <div class="form-group">
                        <div class="checkbox" ng_show="edit_obj.change_store_rrd_data">
                            <div class="controls col-lg-offset-0 col-sm-8">
                                <label>
                                    <input checked="checked" class="checkboxinput checkbox" ng-model="edit_obj.store_rrd_data" type="checkbox"/>
                                    Store rrd data
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2">
                    <div class="form-group">
                        <div class="checkbox">
                            <div class="controls col-lg-offset-0 col-sm-8">
                                <label>
                                    <input class="checkboxinput checkbox" ng-model="edit_obj.change_flap_detection_enabled" type="checkbox"/>
                                    Flapdetection Flag
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-10">
                    <div class="form-group">
                        <div class="checkbox" ng_show="edit_obj.change_flap_detection_enabled">
                            <div class="controls col-lg-offset-0 col-sm-8">
                                <label>
                                    <input checked="checked" class="checkboxinput checkbox" ng-model="edit_obj.flap_detection_enabled" type="checkbox"/>
                                    Enable Flap Detection
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </fieldset>
    </form>
</script>

<script type="text/ng-template" id="icsw.device.group.tree.form">
    <form class="form-horizontal" name="form_data">
        <fieldset>
            <legend>Basic Settings for Devicegroup: {{ edit_obj.name }}</legend>
            <div class="form-group">
                <label class="control-label col-sm-3 requiredField icsw-formlabel">
                    Name<span class="asteriskField">*</span>
                </label>
                <div class="controls col-sm-7">
                    <input class="textinput textInput form-control maxwidth500" maxlength="192" ng-model="edit_obj.name" required="True" type="text"/>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-3 requiredField icsw-formlabel">
                    Description<span class="asteriskField">*</span>
                </label>
                <div class="controls col-sm-7">
                    <input class="textinput textInput form-control maxwidth500" maxlength="384" name="description" ng-model="edit_obj.description" type="text"/>
                </div>
            </div>
        </fieldset>
        <fieldset>
            <legend>Additional Settings</legend>
            <div class="form-group">
                <label class="control-label col-sm-3 requiredField icsw-formlabel">
                    Domain tree node<span class="asteriskField">*</span>
                </label>
                <div class="controls col-sm-7">
                    <ui-select ng-model="edit_obj.domain_tree_node" class="maxwidth500" ng-disabled="false">
                        <ui-select-match class="ui-select-match" placeholder="Select the domain tree node (for FQDN)">
                            {{ $select.selected.tree_info }}
                        </ui-select-match>
                        <ui-select-choices class="ui-select-choices" repeat="value.idx as value in struct.domain_tree.list | props_filter:{tree_info:$select.search}">
                            <div ng-bind-html="value.tree_info | highlight: $select.search"></div>
                        </ui-select-choices>
                    </ui-select>
                </div>
            </div>
        </fieldset>
        <fieldset ng-show="!edit_obj.cluster_device_group">
            <legend>Flags</legend>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <div class="checkbox">
                            <div class="controls col-lg-offset-0 col-sm-7">
                                <label>
                                    <icsw-tools-yes-no flag="edit_obj.enabled"></icsw-tools-yes-no>
                                    Enabled
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6"/>
            </div>
        </fieldset>
    </form>
</script>

<script type="text/ng-template" id="icsw.device.tree.form">
    <form class="form-horizontal" name="form_data">
        <fieldset>
            <legend>Basic Device Settings for {{ edit_obj.name }}</legend>
            <div class="form-group">
                <label class="control-label col-sm-3 requiredField icsw-formlabel">
                    Device Name<span class="asteriskField">*</span>
                </label>
                <div class="controls col-sm-7">
                    <input class="textinput textInput form-control maxwidth500" maxlength="192" ng-model="edit_obj.name" required="True" type="text"/>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-3 icsw-formlabel">
                    Comment
                </label>
                <div class="controls col-sm-7">
                    <input class="textinput textInput form-control maxwidth500" maxlength="384" ng-model="edit_obj.comment" type="text"/>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-3 requiredField icsw-formlabel">
                    Device Group<span class="asteriskField">*</span>
                </label>
                <div class="controls col-sm-7">
                    <ui-select ng-model="edit_obj.device_group" class="maxwidth500">
                        <ui-select-match class="ui-select-match" placeholder="Select the device group">
                            {{ $select.selected.name }}
                        </ui-select-match>
                        <ui-select-choices class="ui-select-choices" repeat="value.idx as value in struct.device_tree.group_list | filter:ignore_cdg | props_filter:{name:$select.search}">
                            <div ng-bind-html="value.name | highlight: $select.search"></div>
                        </ui-select-choices>
                    </ui-select>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-3 requiredField icsw-formlabel">
                    Device Class<span class="asteriskField">*</span>
                </label>
                <div class="controls col-sm-7">
                    <ui-select ng-model="edit_obj.device_class" class="maxwidth500" ng-disabled="false">
                        <ui-select-match class="ui-select-match" placeholder="Select the DeviceClass">
                            {{ $select.selected.name }}
                        </ui-select-match>
                        <ui-select-choices class="ui-select-choices" repeat="value.idx as value in struct.device_tree.device_class_tree.list | props_filter:{name:$select.search}">
                            <div ng-bind-html="value.name | highlight: $select.search"></div>
                        </ui-select-choices>
                    </ui-select>
                </div>
            </div>
        </fieldset>
        <fieldset>
            <legend>Additional Settings</legend>
            <div class="form-group">
                <label class="control-label col-sm-3 requiredField icsw-formlabel">
                    Domain Tree Node<span class="asteriskField">*</span>
                </label>
                <div class="controls col-sm-7">
                    <ui-select ng-model="edit_obj.domain_tree_node" class="maxwidth500">
                        <ui-select-match class="ui-select-match" placeholder="Select the Domain Tree Node (for FQDN)">
                            {{ $select.selected.tree_info }}
                        </ui-select-match>
                        <ui-select-choices class="ui-select-choices" repeat="value.idx as value in struct.domain_tree.list | props_filter:{tree_info:$select.search}">
                            <div ng-bind-html="value.tree_info | highlight: $select.search"></div>
                        </ui-select-choices>
                    </ui-select>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-3 icsw-formlabel">
                    Bootserver
                </label>
                <div class="controls col-sm-7">
                    <div class="input-group" class="maxwidth500">
                        <ui-select ng-model="edit_obj.bootserver" ng-disabled="false">
                            <ui-select-match class="ui-select-match" placeholder="Select the bootserver">
                                {{ $select.selected.full_name }}
                            </ui-select-match>
                            <ui-select-choices class="ui-select-choices" repeat="value.idx as value in struct.mother_server_list | props_filter:{full_name:$select.search}">
                                <div ng-bind-html="value.full_name | highlight: $select.search"></div>
                            </ui-select-choices>
                        </ui-select>
                        <span class="input-group-btn">
                            <button type="button" ng-click="edit_obj.bootserver = undefined" class="btn btn-default">
                                <span class="glyphicon glyphicon-trash"></span>
                            </button>
                        </span>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-3 icsw-formlabel">
                    Monitor Server
                </label>
                <div class="controls col-sm-7">
                    <div class="input-group" class="maxwidth500">
                        <ui-select ng-model="edit_obj.monitor_server" ng-disabled="false">
                            <ui-select-match class="ui-select-match" placeholder="Select the monitor server">
                                {{ $select.selected.$$full_name_with_type }}
                            </ui-select-match>
                            <ui-select-choices class="ui-select-choices" repeat="value.idx as value in struct.monitor_server_list | props_filter:{$$full_name_with_type:$select.search}">
                                <div ng-bind-html="value.$$full_name_with_type | highlight: $select.search"></div>
                            </ui-select-choices>
                        </ui-select>
                        <span class="input-group-btn">
                            <button type="button" ng-click="edit_obj.monitor_server = undefined" class="btn btn-default">
                                <span class="glyphicon glyphicon-trash"></span>
                            </button>
                        </span>
                    </div>
                </div>
            </div>
        </fieldset>
        <fieldset>
            <legend>Security</legend>
            <div class="form-group">
                <label class="control-label col-sm-3 icsw-formlabel">
                    Root Password
                </label>
                <div class="controls col-sm-7">
                    <input class="textinput textInput form-control maxwidth500" ng-model="edit_obj.root_passwd" type="password"/>
                </div>
            </div>
        </fieldset>
        <fieldset>
            <legend>Flags</legend>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <div class="checkbox">
                            <div class="controls col-lg-offset-0 col-sm-7">
                                <label>
                                    <input checked="checked" class="checkboxinput checkbox" ng-model="edit_obj.enabled" type="checkbox"/>
                                    Enabled
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="checkbox">
                            <div class="controls col-lg-offset-0 col-sm-8">
                                <label>
                                    <input checked="checked" class="checkboxinput checkbox" ng-model="edit_obj.enable_perfdata" type="checkbox"/>
                                    Enable perfdata, check IPMI and SNMP
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <div class="checkbox">
                            <div class="controls col-lg-offset-0 col-sm-7">
                                <label>
                                    <input checked="checked" class="checkboxinput checkbox" ng-model="edit_obj.store_rrd_data" type="checkbox"/>
                                    Store RRD Data
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="checkbox">
                            <div class="controls col-lg-offset-0 col-sm-7">
                                <label>
                                    <input checked="checked" class="checkboxinput checkbox" ng-model="edit_obj.flap_detection_enabled" type="checkbox"/>
                                    Flap Detection Enabled
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </fieldset>
    </form>
</script>
