<script type="text/ng-template" id="icsw.device.properties.overview">
    <style>
        .table > tbody > tr > td {
            vertical-align: middle !important;
        }
        .table > tbody > tr > td > .progress {
            margin-bottom: 0px !important;
        }
        a {
          color:inherit;
          text-decoration: none;
         }
    </style>
    <div class="container-fluid">
        <div uib-alert class="alert-warning" ng-show="!struct.data_loaded">Fetching data from server ...</div>
        <div ng-if="struct.data_loaded">
            <uib-tabset>
                <uib-tab ng-click="test()">
                    <uib-tab-heading>
                        <span>Device Overview</span>
                    </uib-tab-heading>
                    <br/>
                    <table
                        st-table="entries_displayed"
                        st-safe-src="struct.devices"
                        class="table table-condensed table-striped table-hover simple-border"
                    >

                        <thead>
                            <tr>
                                <th st-sort="name">Name</th>
                                <th st-sort="device_group_name">Group</th>
                                <th st-sort="$$date_created" st-sort-default="reverse">Created at</th>
                                <th st-sort="$$monitoring_checks_availability_class" class="text-center">Monitoring Checks</th>
                                <th st-sort="$$location_data_availability_class" class="text-center">Location Data</th>
                                <th st-sort="$$asset_data_availability_class" class="text-center">Asset Data</th>
                                <th st-sort="$$graphing_data_availability_class" class="text-center">Graphing Data</th>
                                <th st-sort="$$overview_completion_percentage" class="text-center">% complete</th>
                            </tr>
                            <tr>
                                <th>
                                    <input st-search="name" placeholder="filter by device name" class="input-sm form-control" type="search"/>
                                </th>
                                <th>
                                    <input st-search="device_group_name" placeholder="filter by group" class="input-sm form-control" type="search"/>
                                </th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr ng-repeat="obj in entries_displayed">
                                <td>{{ obj.full_name }}</td>
                                <td>{{ obj.device_group_name }}</td>
                                <td>{{ obj.$$date_created }}</td>
                                <td class="text-center"><div ng-class="obj.$$monitoring_checks_availability_class"><strong><a href="" ng-click='open_in_new_tab(obj, 0)'>{{ obj.$$monitoring_checks_availability_text }}</a></strong></div></td>
                                <td class="text-center"><div ng-class="obj.$$location_data_availability_class"><strong><a href="" ng-click='open_in_new_tab(obj, 1)'>{{ obj.$$location_data_availability_text }}</a></strong></div></td>
                                <td class="text-center"><div ng-class="obj.$$asset_data_availability_class"><strong><a href="" ng-click='open_in_new_tab(obj, 2)'>{{ obj.$$asset_data_availability_text }}</a></strong></div></td>
                                <td class="text-center"><div ng-class="obj.$$graphing_data_availability_class"><strong>{{ obj.$$graphing_data_availability_text }}</strong></div></td>
                                <td>
                                    <div class="progress">
                                        <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40"
                                            aria-valuemin="0" aria-valuemax="100" ng-style="{width : ( obj.$$overview_completion_percentage + '%' ) }">
                                            <span>{{ obj.$$overview_completion_percentage }}</span>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </uib-tab>
                <uib-tab ng-repeat="tab in struct.tabs">
                    <uib-tab-heading>
                        <span>{{ tab.heading }}</span>
                        <icsw-tools-button size="xs" type="close" value="" ng-click="close_tab(tab)"></icsw-tools-button>
                    </uib-tab-heading>
                    <icsw-device-config-overview ng-if="tab.type == 0" icsw-sel-man="1" icsw-select-device="{{ tab.device_id }}"/>
                    <icsw-device-location-overview ng-if="tab.type == 1" icsw-sel-man="1" icsw-select-device="{{ tab.device_id }}"/>
                </uib-tab>
            </uib-tabset>
        </div>
    </div>
</script>